#include <8051.h>
#include "Keypad4x4.h"

char number() {
	unsigned char col[4][4] = {{0xee, 0xde, 0xbe, 0x7e},//11101110第一列第一行
								{0xed, 0xdd, 0xbd, 0x7d},
								{0xeb, 0xdb, 0xbb, 0x7b},
								{0xe7, 0xd7, 0xb7, 0x77}};
	unsigned char coll[4][4] = {{0x00, 0x04, 0x08, 0x0c},//4*4對應值
								{0x01, 0x05, 0x09, 0x0d},
								{0x02, 0x06, 0x0a, 0x0e},
								{0x03, 0x07, 0x0b, 0x0f}};
	unsigned char colll[4] = {0xfe, 0xfd, 0xfb, 0xf7};//第一行到第四行
	char result = 0x10;//沒偵測到return0X10
	for (int i = 0; i < 4; i++) {//偵測案哪個鍵
		P0 = colll[i];
		for (int j = 0; j < 4; j++) {
			if (P0 == col[i][j])
				result = coll[i][j];
		}
	}
	return result;	
}
